<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neumorphism Text Generator</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Font: Sarabun for Thai support -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #E0E5EC;
        }
        /* Custom Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons Components (SVG Inline for portability) ---
        const Icon = ({ children, size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const ClipboardListIcon = (props) => (
            <Icon {...props}>
                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                <path d="M12 11h4"></path>
                <path d="M12 16h4"></path>
                <path d="M8 11h.01"></path>
                <path d="M8 16h.01"></path>
            </Icon>
        );
        const StoreIcon = (props) => (
            <Icon {...props}>
                <path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"></path>
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                <path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"></path>
                <path d="M2 7h20"></path>
                <path d="M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7"></path>
            </Icon>
        );
        const FileTextIcon = (props) => (
            <Icon {...props}>
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
            </Icon>
        );
        const UserIcon = (props) => (
            <Icon {...props}>
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </Icon>
        );
        const CheckIcon = (props) => (
            <Icon {...props}>
                <polyline points="20 6 9 17 4 12"></polyline>
            </Icon>
        );
        const ClockIcon = (props) => (
            <Icon {...props}>
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </Icon>
        );
        const Edit3Icon = (props) => (
            <Icon {...props}>
                <path d="M12 20h9"></path>
                <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
            </Icon>
        );
        const XIcon = (props) => (
            <Icon {...props}>
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </Icon>
        );
        const CopyIcon = (props) => (
            <Icon {...props}>
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </Icon>
        );

        // --- Main App Component ---
        const NeumorphismApp = () => {
            const [storeName, setStoreName] = useState('');
            const [invNumber, setInvNumber] = useState('');
            const [customerName, setCustomerName] = useState('');
            const [generatedText, setGeneratedText] = useState('');
            const [isCopied, setIsCopied] = useState(false);

            const initialItems = [
                { id: 1, label: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡∏¢‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö' },
                { id: 2, label: '‡∏≠‡∏≤‡∏ä‡∏µ‡∏û' },
                { id: 3, label: '‡πÄ‡∏ü‡∏™‡∏ö‡∏∏‡πä‡∏Ñ' },
                { id: 4, label: '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á' },
                { id: 5, label: '‡∏£‡∏π‡∏õ‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á\n(‡∏´‡∏ô‡πâ‡∏≤-‡∏´‡∏•‡∏±‡∏á,‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤,‡∏ö‡∏ô-‡∏•‡πà‡∏≤‡∏á)' },
                { id: 6, label: '‡∏£‡∏π‡∏õ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á\n(‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö,‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡πÅ‡∏ö‡∏ï,‡∏ï‡∏£‡∏≤‡∏Ñ‡∏£‡∏∏‡∏ë)' },
                { id: 7, label: '‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏±‡∏ç‡∏ç‡∏≤' },
                { id: 8, label: '‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°' },
                { id: 9, label: '‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à' },
                { id: 10, label: '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÑ‡∏•‡∏ô‡πå' },
                { id: 11, label: '‡∏£‡∏π‡∏õ‡πÄ‡∏ó‡∏™‡∏•‡πá‡∏≠‡∏Å\n(3‡∏†‡∏≤‡∏û)' },
                { id: 12, label: '‡∏£‡∏π‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏ö‡πÄ‡∏Ñ‡∏™' },
            ];

            const [checklist, setChecklist] = useState(
                initialItems.map((item) => ({
                    ...item,
                    status: 'pending',
                    note: '',
                }))
            );

            // Styles
            const styles = {
                bg: 'bg-[#E0E5EC]',
                text: 'text-gray-800',
                primary: 'text-blue-900',
                neuFlat: `bg-[#E0E5EC] shadow-[9px_9px_16px_rgb(163,177,198,0.6),-9px_-9px_16px_rgba(255,255,255,0.5)] rounded-2xl`,
                neuPressed: `bg-[#E0E5EC] shadow-[inset_6px_6px_10px_rgb(163,177,198,0.6),inset_-6px_-6px_10px_rgba(255,255,255,0.8)] rounded-xl`,
                btn: `transition-all duration-200 ease-in-out active:scale-95 flex items-center justify-center font-medium`,
                statusBtn: (active, colorClass) => `
                    h-8 px-3 text-xs rounded-lg cursor-pointer transition-all duration-200 flex items-center justify-center
                    ${active 
                        ? 'font-bold text-white ' + colorClass + ' shadow-[inset_3px_3px_6px_rgba(0,0,0,0.2),inset_-2px_-2px_5px_rgba(255,255,255,0.3)]' 
                        : 'text-gray-500 bg-[#E0E5EC] shadow-[5px_5px_10px_rgb(163,177,198,0.5),-5px_-5px_10px_rgba(255,255,255,0.6)] hover:translate-y-[-1px]'}
                `,
            };

            const handleStatusChange = (id, newStatus) => {
                setChecklist((prev) =>
                    prev.map((item) =>
                        item.id === id ? { ...item, status: newStatus } : item
                    )
                );
            };

            const handleNoteChange = (id, newNote) => {
                setChecklist((prev) =>
                    prev.map((item) => (item.id === id ? { ...item, note: newNote } : item))
                );
            };

            useEffect(() => {
                const getStatusText = (status) => {
                    switch (status) {
                        case 'passed': return '‚úÖ‡∏ú‡πà‡∏≤‡∏ô';
                        case 'pending': return '‚≠ï‡∏£‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£';
                        case 'edit': return 'üí¢‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç';
                        case 'cancel': return '‚ùå‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å';
                        default: return '';
                    }
                };

                let text = `‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\n`;
                if (storeName) text += `‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ : ${storeName}\n`;
                text += `INV : ${invNumber}\n`;
                text += `‡∏ä‡∏∑‡πà‡∏≠ : ${customerName}\n\n`;

                checklist.forEach((item) => {
                    const statusText = getStatusText(item.status);
                    // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô \n ‡πÉ‡∏ô label ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
                    const labelForText = item.label.replace(/\n/g, ' ');
                    let line = `${item.id} ${labelForText} ${statusText}`;
                    
                    if (item.status === 'edit' && item.note) {
                        line += ` -> ${item.note}`;
                    }
                    
                    text += `${line}\n`;
                });

                setGeneratedText(text);
            }, [storeName, invNumber, customerName, checklist]);

            const copyToClipboard = () => {
                const textArea = document.createElement("textarea");
                textArea.value = generatedText;
                textArea.style.position = "fixed";
                textArea.style.left = "-9999px";
                textArea.style.top = "0";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        setIsCopied(true);
                        setTimeout(() => setIsCopied(false), 2000);
                    }
                } catch (err) {
                    console.error('Fallback: Oops, unable to copy', err);
                }
                
                document.body.removeChild(textArea);
            };

            return (
                <div className={`min-h-screen ${styles.bg} ${styles.text} p-4 md:p-8 flex justify-center items-start`}>
                    <div className={`w-full max-w-3xl ${styles.neuFlat} p-6 md:p-8 space-y-8`}>
                        
                        {/* Header */}
                        <div className="flex items-center justify-center space-x-3 mb-6">
                            <div className={`p-3 rounded-full ${styles.neuFlat} text-blue-900`}>
                                <ClipboardListIcon size={32} />
                            </div>
                            <h1 className="text-2xl md:text-3xl font-bold text-blue-900 tracking-wide">
                                ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
                            </h1>
                        </div>

                        {/* Section 1: User Info Inputs */}
                        <div className="space-y-4">
                            <h2 className="text-lg font-semibold text-blue-900 ml-1">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h2>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                        <StoreIcon size={18} />
                                    </div>
                                    <input
                                        type="text"
                                        placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤"
                                        value={storeName}
                                        onChange={(e) => setStoreName(e.target.value)}
                                        className={`w-full pl-10 pr-4 py-3 ${styles.neuPressed} outline-none focus:ring-2 focus:ring-blue-200/50 transition-all`}
                                    />
                                </div>
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                        <FileTextIcon size={18} />
                                    </div>
                                    <input
                                        type="text"
                                        placeholder="‡πÄ‡∏•‡∏Ç INV"
                                        value={invNumber}
                                        onChange={(e) => setInvNumber(e.target.value)}
                                        className={`w-full pl-10 pr-4 py-3 ${styles.neuPressed} outline-none focus:ring-2 focus:ring-blue-200/50 transition-all`}
                                    />
                                </div>
                                <div className="relative md:col-span-2">
                                    <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                                        <UserIcon size={18} />
                                    </div>
                                    <input
                                        type="text"
                                        placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤"
                                        value={customerName}
                                        onChange={(e) => setCustomerName(e.target.value)}
                                        className={`w-full pl-10 pr-4 py-3 ${styles.neuPressed} outline-none focus:ring-2 focus:ring-blue-200/50 transition-all`}
                                    />
                                </div>
                            </div>
                        </div>

                        <hr className="border-gray-300/50" />

                        {/* Section 2: Checklist */}
                        <div className="space-y-6">
                            <h2 className="text-lg font-semibold text-blue-900 ml-1">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h2>
                            
                            <div className="space-y-4">
                                {checklist.map((item) => (
                                    <div key={item.id} className={`p-4 rounded-2xl bg-[#E0E5EC] shadow-[6px_6px_12px_rgb(163,177,198,0.5),-6px_-6px_12px_rgba(255,255,255,0.8)] transition-all`}>
                                        <div className="flex flex-col md:flex-row md:items-center justify-between gap-3">
                                            {/* ‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• ID ‡πÅ‡∏•‡∏∞ Label ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç */}
                                            <div className="flex-1 flex items-start">
                                                <span className="font-medium text-gray-700 text-sm md:text-base mr-2 min-w-[20px]">
                                                    {item.id}.
                                                </span>
                                                <span className="font-medium text-gray-700 text-sm md:text-base whitespace-pre-line">
                                                    {item.label}
                                                </span>
                                            </div>

                                            <div className="flex flex-wrap gap-2 shrink-0">
                                                <div
                                                    onClick={() => handleStatusChange(item.id, 'passed')}
                                                    className={styles.statusBtn(item.status === 'passed', 'bg-blue-900')}
                                                >
                                                    <span className="flex items-center gap-1"><CheckIcon size={14}/> ‡∏ú‡πà‡∏≤‡∏ô</span>
                                                </div>
                                                
                                                <div
                                                    onClick={() => handleStatusChange(item.id, 'pending')}
                                                    className={styles.statusBtn(item.status === 'pending', 'bg-gray-500')}
                                                >
                                                    <span className="flex items-center gap-1"><ClockIcon size={14}/> ‡∏£‡∏≠</span>
                                                </div>

                                                <div
                                                    onClick={() => handleStatusChange(item.id, 'edit')}
                                                    className={styles.statusBtn(item.status === 'edit', 'bg-orange-500')}
                                                >
                                                    <span className="flex items-center gap-1"><Edit3Icon size={14}/> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</span>
                                                </div>

                                                <div
                                                    onClick={() => handleStatusChange(item.id, 'cancel')}
                                                    className={styles.statusBtn(item.status === 'cancel', 'bg-red-500')}
                                                >
                                                    <span className="flex items-center gap-1"><XIcon size={14}/> ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</span>
                                                </div>
                                            </div>
                                        </div>

                                        {item.status === 'edit' && (
                                            <div className="mt-3 animate-fadeIn">
                                                <input
                                                    type="text"
                                                    placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç..."
                                                    value={item.note}
                                                    onChange={(e) => handleNoteChange(item.id, e.target.value)}
                                                    className={`w-full px-4 py-2 text-sm ${styles.neuPressed} text-red-600 placeholder-red-300 outline-none`}
                                                    autoFocus
                                                />
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Section 3: Output */}
                        <div className="pt-4 pb-8">
                            <h2 className="text-lg font-semibold text-blue-900 ml-1 mb-2">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</h2>
                            <div className={`w-full p-4 min-h-[200px] text-sm md:text-base font-mono bg-gray-100/50 ${styles.neuPressed} text-gray-700 whitespace-pre-line leading-relaxed`}>
                                {generatedText}
                            </div>
                            
                            <button
                                onClick={copyToClipboard}
                                className={`mt-6 w-full py-4 text-blue-900 font-bold text-lg rounded-xl flex items-center justify-center gap-2 ${
                                    isCopied 
                                        ? 'shadow-[inset_4px_4px_8px_rgb(163,177,198,0.6),inset_-4px_-4px_8px_rgba(255,255,255,0.8)] bg-blue-50' 
                                        : 'shadow-[6px_6px_12px_rgb(163,177,198,0.6),-6px_-6px_12px_rgba(255,255,255,0.8)] hover:shadow-[8px_8px_16px_rgb(163,177,198,0.7),-8px_-8px_16px_rgba(255,255,255,0.9)] active:shadow-[inset_4px_4px_8px_rgb(163,177,198,0.6),inset_-4px_-4px_8px_rgba(255,255,255,0.8)]'
                                } transition-all duration-300 cursor-pointer`}
                            >
                                {isCopied ? (
                                    <span className="flex items-center gap-2"><CheckIcon size={24} /> ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!</span>
                                ) : (
                                    <span className="flex items-center gap-2"><CopyIcon size={24} /> ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</span>
                                )}
                            </button>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<NeumorphismApp />);
    </script>
</body>
</html>